{"version":3,"file":"src_pages_AuthoritiesHistory_tsx.df1fc94b.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACuC;AACxB;AACF;AACC;AACL;AAWlC;AACU;AACsD;AAC5C;AACE;AAEc;AAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;UAAA;YAAA;UAAA;QAAA;MAAA;MAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA;IAAA;MAAA;QAAA;QAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UAAA;QAAA;MAAA;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;QAAA;UAAA;UAAA;UAAA;YAAA;cAAA;YAAA;cAAA;cAAA;YAAA;UAAA;UAAA;YAAA;cAAA;YAAA;cAAA;cAAA;YAAA;UAAA;UAAA;YAAA;cAAA;YAAA;cAAA;cAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;QAAA;UAAA;QAAA;QAAA;UAAA;QAAA;MAAA;MAAA;MAAA;QAAA;UAAA;QAAA;QAAA;UAAA;QAAA;MAAA;IAAA;IAAA;EAAA;IAAA;MAAA;IAAA;IAAA;MAAA;QAAA;UAmFhD;UAAA;QAAA;QAAA;MAAA;MAAA;MAAA;QAAA;UAAA;UAAA;QAAA;MAAA;MAAA;MAAA;MAAA;QAAA;UAAA;QAAA;UAAA;UAAA;QAAA;MAAA;MAAA;QA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","sources":["webpack://@nepoche/stats-dapp/./src/pages/AuthoritiesHistory.tsx"],"sourcesContent":["import { randNumber } from '@ngneat/falso';\nimport { Button, DropdownMenu, TitleWithInfo } from '@nepoche/webb-ui-components';\nimport { useDarkMode } from '@nepoche/webb-ui-components';\nimport { ArrowLeft } from '@nepoche/webb-ui-components';\nimport { Typography } from '@nepoche/webb-ui-components';\nimport { range } from '@nepoche/webb-ui-components';\nimport {\n  BarElement,\n  CategoryScale,\n  Chart as ChartJS,\n  ChartData,\n  ChartOptions,\n  Legend as CLegend,\n  LinearScale,\n  Title,\n  Tooltip,\n} from 'chart.js';\nimport cx from 'classnames';\nimport React, { ComponentProps, FC, useCallback, useMemo, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Link } from 'react-router-dom';\nimport { WebbColorsType } from '../../types';\nimport resolveConfig from 'tailwindcss/resolveConfig';\n\nimport tailwindConfig from /* preval */ '../../tailwind.config.js';\n\nconst fullConfig = resolveConfig(tailwindConfig);\n\nconst webbColors = fullConfig.theme?.colors as unknown as WebbColorsType;\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, CLegend);\n\nconst labels = range(3453, 3465);\nlet keygenThreshold = randNumber({ min: 2, max: 10 });\nlet signatureThreshold = randNumber({ min: 2, max: 10 });\n\nconst data: ChartData<'bar'> = {\n  labels,\n  datasets: [\n    {\n      label: 'Keygen Threshold',\n      data: labels.map(() => {\n        keygenThreshold += 8;\n        return keygenThreshold;\n      }),\n      backgroundColor: webbColors.purple['100'],\n    },\n    {\n      label: 'Signature Threshold',\n      data: labels.map(() => {\n        signatureThreshold += 10;\n        return signatureThreshold;\n      }),\n      backgroundColor: webbColors.purple['60'],\n    },\n  ],\n};\n\nconst AuthoritiesHistory = () => {\n  const historyOpts = useMemo(() => ['lastest session', 'all time'], []);\n  const [selectedIdx, setSelectedIdx] = useState(0);\n\n  const [isDarkMode, _] = useDarkMode();\n\n  const menuOptions = useMemo<ComponentProps<typeof DropdownMenu>['menuOptions']>(\n    () =>\n      historyOpts.reduce((acc, cur) => {\n        return [...acc, { value: cur }];\n      }, [] as ComponentProps<typeof DropdownMenu>['menuOptions']),\n    [historyOpts]\n  );\n\n  const onChange = useCallback(\n    (nextVal: string) => {\n      setSelectedIdx(historyOpts.indexOf(nextVal));\n    },\n    [historyOpts]\n  );\n\n  const options = useMemo<ChartOptions<'bar'>>(\n    () => ({\n      scales: {\n        x: {\n          stacked: !!selectedIdx,\n          grid: {\n            display: false,\n            borderColor: webbColors.mono['80'],\n          },\n          ticks: {\n            color: isDarkMode ? webbColors.mono['60'] : webbColors.mono['200'],\n          },\n        },\n        y: {\n          stacked: !!selectedIdx,\n          grid: {\n            display: false,\n            borderColor: webbColors.mono['80'],\n          },\n          ticks: {\n            color: isDarkMode ? webbColors.mono['60'] : webbColors.mono['200'],\n          },\n        },\n      },\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false,\n          position: 'bottom' as const,\n        },\n        title: {\n          display: false,\n          position: 'bottom' as const,\n          text: 'Session',\n        },\n      },\n    }),\n    [isDarkMode, selectedIdx]\n  );\n\n  return (\n    <div className='flex flex-col p-8 space-y-4 rounded-lg bg-mono-0 dark:bg-mono-180'>\n      <Link to='/authorities'>\n        <Button variant='utility' size='sm' leftIcon={<ArrowLeft className='!fill-current' />}>\n          Back\n        </Button>\n      </Link>\n\n      {/** Graph */}\n      <div className='flex flex-col space-y-4'>\n        {/** Title */}\n        <div className='flex items-center justify-between px-8'>\n          <TitleWithInfo title='Network Thresholds History' info='Network Thresholds History' variant='h5' />\n\n          <DropdownMenu\n            menuOptions={menuOptions}\n            size='sm'\n            value={menuOptions[selectedIdx].value}\n            onChange={onChange}\n          />\n        </div>\n\n        <div className='px-4 pt-4'>\n          <Bar options={options} data={data} />\n        </div>\n\n        <TitleWithInfo\n          title={selectedIdx ? 'Month' : 'Session'}\n          info={selectedIdx ? 'Month' : 'Session'}\n          className='justify-center'\n        />\n\n        <div className='flex items-center justify-center space-x-2'>\n          <Legend bgColorClsx='bg-purple-100'>{selectedIdx ? 'Avarage ' : ''}Keygen Threshold</Legend>\n          <Legend bgColorClsx='bg-purple'>{selectedIdx ? 'Avarage ' : ''}Signature Threshold</Legend>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/***********************\n * Internal components *\n ***********************/\n\nconst Legend: FC<{ bgColorClsx: string, children: React.ReactNode }> = ({ bgColorClsx, children }) => {\n  return (\n    <div className='flex items-center space-x-2'>\n      <div className={cx('w-1 h-1', bgColorClsx)} />\n\n      <Typography variant='body3' component='span' className='inline-block'>\n        {children}\n      </Typography>\n    </div>\n  );\n};\n\nexport default AuthoritiesHistory;\n"],"names":["randNumber","Button","DropdownMenu","TitleWithInfo","useDarkMode","ArrowLeft","Typography","range","BarElement","CategoryScale","Chart","ChartJS","Legend","CLegend","LinearScale","Title","Tooltip","cx","React","useCallback","useMemo","useState","Bar","Link","resolveConfig","fullConfig","tailwindConfig","webbColors","theme","colors","register","labels","keygenThreshold","min","max","signatureThreshold","data","datasets","label","map","backgroundColor","purple","AuthoritiesHistory","historyOpts","selectedIdx","setSelectedIdx","isDarkMode","_","menuOptions","reduce","acc","cur","value","onChange","nextVal","indexOf","options","scales","x","stacked","grid","display","borderColor","mono","ticks","color","y","responsive","plugins","legend","position","title","text","bgColorClsx","children"],"sourceRoot":""}